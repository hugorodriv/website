<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>World Map</title>

    <link rel="stylesheet" href="./index.css" >
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" >
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
  </head>

  <body>

    <div class="w-screen flex flex-col justify-center items-center">
      <div class="w-4/5 max-w-[800px] flex flex-col justify-center items-center">
        <h1 class="my-10 text-center text-3xl">Access Map</h1>
        <div class="bg-gray-100 p-0 rounded-lg  w-full h-[500px]">
          <div class="w-full h-full rounded-lg shadow-md" id="map"></div>
        </div>
          <p class="text-center my-2 text-lg">
            Amount of requests per country of origin
          </p>
          
        <p class="text-center my-10 text-lg">
          In the backend server a 
          <a class="text-blue-700 underline" href="https://www.github.com/hugorodriv">custom-made go script</a>
          that runs periodically reads and processes nginx's access log, comparing the IP addresses 
          to a local database to determine country of origin.
          <br>
          This information is then transformed into a JSON file, which then the nginx server serves.
          <br>
          <br>
          In the frontend a map is created using JavaScript and the Leaflet library.
          The JSON is fetched, along with a GeoJSON file which contains the countries coordinates and names. 
          The map is then colored according to the number of hits per country of origin.
        </p>
      </div>
    </div>

    <script src="index.js"></script>
  </body>

</html>