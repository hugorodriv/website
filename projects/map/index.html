<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>World Map</title>

    <link rel="stylesheet" href="index.css" >
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" >
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
  </head> 
    
  <body class="bg-gray-900">
    <div class="m-auto flex flex-col min-h-screen max-w-2xl">
        <nav class="py-10">
          <a class="hover:bg-gray-800 hover:text-white border hover:border-gray-400 border-gray-600 text-gray-100 py-3 px-4 rounded-lg  mx-1" href="https://hugor.me">Home</a>
          <a class="hover:bg-gray-800 hover:text-white border hover:border-gray-400 border-gray-600 text-gray-300 py-3 px-4 rounded-lg  mx-1" href="https://hugor.me/about">About</a>
          <a class="hover:bg-gray-800 hover:text-white border hover:border-gray-400 border-gray-600 text-gray-300 py-3 px-4 rounded-lg  mx-1" href="https://hugor.me/projects">Projects</a>
          <a class="hover:bg-gray-800 hover:text-white border hover:border-gray-400 border-gray-600 text-gray-300 py-3 px-4 rounded-lg  mx-1" href="https://github.com/hugorodriv">Github</a>
        </nav>
        <p class="py-10 text-white text-5xl font-bold font-sans">Access map</p>
        

        <div class="bg-gray-100 p-0 rounded-lg  h-[500px]">
          <div class="!bg-gray-700 w-full h-full rounded-lg" id="map"></div>
        </div>
          <p class="text-center leading-9 text-gray-200 font-sans">
            Amount of requests per country of origin
          </p>
          
        <p class="p-6 leading-9 text-gray-200 text-xl font-sans">
          In the backend server a 
          <a class="text-blue-400 underline" href="https://www.github.com/hugorodriv">custom-made go script</a>
          that runs periodically reads and processes nginx's access log, comparing the IP addresses 
          to a local database to determine country of origin.
          <br>
          This information is then transformed into a JSON file, which then the nginx server serves.
          <br>
          <br>
          In the frontend a map is created using JavaScript and the leaflet.js library.
          The JSON is fetched, along with a GeoJSON file which contains the countries coordinates and names. 
          The map is then colored according to the number of hits per country of origin.
        </p>

    </div>

    <script src="index.js"></script>
  </body>

</html>